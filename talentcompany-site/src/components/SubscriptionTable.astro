---
export type Plan = {
	name: string;
	price: string;
	description?: string;
	features: string[];
	cta: { label: string; href: string };
	highlight?: boolean;
};

export type Props = {
	heading?: string;
	subheading?: string;
	plans: Plan[];
};

const {
	heading = 'Subscription plans',
	subheading = 'Simple tiers you can start, pause, or scale.',
	plans,
} = Astro.props;
---

<section class="mx-auto max-w-6xl px-6 py-14 sm:py-18">
	<div class="flex flex-col gap-2">
		<h2 class="text-2xl font-semibold tracking-tight text-white sm:text-3xl">{heading}</h2>
		<p class="max-w-prose text-sm leading-relaxed text-slate-300 sm:text-base">{subheading}</p>
	</div>

	<div class="mt-10 grid gap-4 lg:grid-cols-3">
		{plans.map((plan) => (
			<div
				class:list={[
					'rounded-2xl border bg-slate-900/40 p-6',
					plan.highlight ? 'border-sky-400/60 shadow-sm' : 'border-slate-800',
				]}
			>
				<div class="flex items-start justify-between gap-4">
					<div>
						<h3 class="text-base font-semibold text-slate-100">{plan.name}</h3>
						{plan.description ? (
							<p class="mt-2 text-sm text-slate-300">{plan.description}</p>
						) : null}
					</div>
					<p class="text-right text-sm font-semibold text-slate-100">
						<span class="text-2xl">{plan.price}</span>
						<span class="ml-1 text-xs font-medium text-slate-400">/mo</span>
					</p>
				</div>

				<ul class="mt-5 space-y-2 text-sm text-slate-300">
					{plan.features.map((f) => (
						<li class="flex gap-2">
							<span class="mt-0.5 inline-block h-5 w-5 rounded-full bg-sky-500/15 text-center text-sky-300">
								âœ“
							</span>
							<span>{f}</span>
						</li>
					))}
				</ul>

				<a
					class:list={[
						'mt-6 inline-flex w-full items-center justify-center rounded-xl px-4 py-2 text-sm font-semibold transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950',
						plan.highlight
							? 'bg-sky-500 text-slate-950 hover:bg-sky-400 focus-visible:ring-sky-300'
							: 'border border-slate-800 bg-slate-900/60 text-slate-100 hover:bg-slate-900 focus-visible:ring-slate-400',
					]}
					href={plan.cta.href}
				>
					{plan.cta.label}
				</a>
			</div>
		))}
	</div>
</section>

