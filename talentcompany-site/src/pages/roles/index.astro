---
import Layout from '../../layouts/Layout.astro';
import MetaHead from '../../components/MetaHead.astro';
import ContactSection from '../../components/ContactSection.astro';
import Footer from '../../components/Footer.astro';
import { BOOKING_URL, isExternalUrl } from '../../lib/cta';

const brand = 'TalentCompany';

const meta = {
	title: `Roles Directory | ${brand}`,
	description: 'Browse common roles across AEC, creative & design, and marketing — and explore role-specific landing pages.',
};

const baseUrl = Astro.site ?? 'https://talentcompany-site.vercel.app';
const canonical = new URL('/roles/', baseUrl).toString();

const bookingUrl = BOOKING_URL;
const bookingExternal = isExternalUrl(bookingUrl);

const roleCards = [
	{ label: 'Architectural Designer', category: 'AEC', href: '/roles/architectural-designer/' },
	{ label: 'BIM Coordinator', category: 'AEC', href: '/roles/bim-coordinator/' },
	{ label: 'Revit Drafter', category: 'AEC', href: '/roles/revit-drafter/' },
	{ label: 'UI/UX Designer', category: 'Creative & Design', href: '/roles/ui-ux-designer/' },
	{ label: 'Content Marketer', category: 'Marketing', href: '/roles/content-marketer/' },
	{ label: 'PPC Manager', category: 'Marketing', href: '/roles/ppc-manager/' },
];
---

<Layout>
	<MetaHead slot="head" title={meta.title} description={meta.description} canonical={canonical} />

	<main class="mx-auto max-w-6xl px-6 py-12 sm:py-14">
		<header class="max-w-3xl">
			<p class="text-sm font-semibold tracking-wide text-sky-300">Roles</p>
			<h1 class="mt-4 text-4xl font-semibold tracking-tight text-white sm:text-5xl">Roles directory</h1>
			<p class="mt-4 text-sm leading-relaxed text-slate-300 sm:text-base">
				Browse role templates and common placements. Each role page links back to the relevant solution and engagement
				options.
			</p>
		</header>

		<section class="mt-10" aria-label="Top roles">
			<div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
				{roleCards.map((r) => (
					<a
						href={r.href}
						class="rounded-2xl border border-slate-800 bg-slate-900/40 p-6 transition hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-300"
					>
						<p class="text-xs font-semibold uppercase tracking-wide text-slate-400">{r.category}</p>
						<p class="mt-2 text-base font-semibold text-slate-100">{r.label}</p>
						<p class="mt-3 text-sm text-slate-300">View role page →</p>
					</a>
				))}
			</div>
		</section>

		<section class="mt-12 rounded-2xl border border-slate-800 bg-gradient-to-br from-slate-900/60 to-slate-950 p-6 sm:p-8">
			<div class="flex flex-col items-start justify-between gap-6 md:flex-row md:items-center">
				<div>
					<h2 class="text-2xl font-semibold tracking-tight text-white sm:text-3xl">Not seeing your role?</h2>
					<p class="mt-2 max-w-prose text-sm leading-relaxed text-slate-300 sm:text-base">
						Tell us what you need and we’ll point you to the best engagement model and matching options.
					</p>
				</div>
				<a
					href={bookingUrl}
					{...(bookingExternal ? { target: '_blank', rel: 'noreferrer' } : {})}
					class="inline-flex items-center justify-center rounded bg-sky-600 px-6 py-3 text-sm font-semibold text-white transition hover:bg-sky-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-300 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950"
					data-book-call
				>
					Book a 15-Min Call
				</a>
			</div>
		</section>
	</main>

	<div class="mx-auto max-w-6xl px-6">
		<ContactSection subject={`${brand} — new inquiry (roles directory)`} />
	</div>

	<Footer />
</Layout>

